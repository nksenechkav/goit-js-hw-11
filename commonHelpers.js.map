{"version":3,"file":"commonHelpers.js","sources":["../src/js/gallery.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst refs = {\n    formEl: document.querySelector('.js-search-form[data-id=\"js-search-image\"]'),\n    imageEl: document.querySelector('.js-image-container'),\n  };\n  \n  refs.formEl.addEventListener('submit', e => {\n    e.preventDefault();\n  \n    const image = e.target.elements.query.value;\n  \n    searchImage(image).then(data => {\n      renderImage(data);\n    });\n  \n    e.target.reset();\n  });\n  \n  function searchImage(userValue) {\n    const BASE_URL = 'https://pixabay.com';\n    const END_POINT = '/api/';\n    const PARAMS = `?key=42271393-ceafa19bde7d0a63fb15d5d6f&q=${userValue}&image_type=photo&orientation=horizontal&safesearch=true`;\n    const url = BASE_URL + END_POINT + PARAMS;\n  \n    return fetch(url).then(res => res.json());\n  };\n  \n  function imageTemplate(image) {\n    return `<div class=\"image-card card\">\n    <div class=\"image-container\">\n      <img\n        src=\"${image.hits.webformatURL}\"\n        alt=\"${image.hits.tags}\"\n        class=\"search-image\"\n      />\n    </div>\n    <div class=\"image-body\">\n      <h4 class=\"image-info\">${image.hits.likes}</h4>\n      <h4 class=\"image-info\">${image.hits.views}</h4>\n      <h4 class=\"image-info\">${image.hits.comments}</h4>\n      <h4 class=\"image-info\"> ${image.hits.downloads}</h4>\n    </div>\n  </div>`;\n  }\n  \n  function renderImage(image) {\n    const markup = imageTemplate(image);\n    refs.imageEl.insertAdjacentHTML('afterbegin', markup);\n  }\n\n// const form = document.querySelector('.form-control');\n// const loader = document.querySelector('.loader');\n// const gallery = document.querySelector('.gallery');\n\n// form.addEventListener('submit', (e) => {\n//   e.preventDefault();\n\n//   const keyword = document.querySelector('#keyword').value;\n//   const query = `https://pixabay.com/api/?key={42271393-ceafa19bde7d0a63fb15d5d6f}&q=${keyword}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n//   loader.style.display = 'block';\n//   gallery.innerHTML = '';\n\n//   fetch(query)\n//     .then(response => response.json())\n//     .then((data) => {\n//       loader.style.display = 'none';\n//       if (data.hits.length === 0) {\n//         gallery.innerHTML = 'No results found.';\n//         return;\n//       }\n\n//       data.hits.forEach((hit) => {\n//         const image = document.createElement('img');\n//         image.src = hit.webformatURL;\n//         image.alt = hit.tags;\n//         image.addEventListener('click', () => {\n//           const lightbox = new SimpleLightbox();\n//           lightbox.open({\n//             items: [\n//               {\n//                 src: hit.largeImageURL,\n//                 caption: `Likes: ${hit.likes}, Views: ${hit.views}, Comments: ${hit.comments}, Downloads: ${hit.downloads}`\n//               }\n//             ]\n//           });\n//         });\n//         gallery.appendChild(image);\n//       });\n\n//       const lightbox = new SimpleLightbox();\n//       lightbox.refresh();\n//     })\n//     .catch((error) => {\n//       loader.style.display = 'none';\n//       gallery.innerHTML = 'Error fetching images.';\n//       console.error(error);\n//     });\n// });"],"names":["refs","e","image","searchImage","data","renderImage","userValue","BASE_URL","END_POINT","PARAMS","url","res","imageTemplate","markup"],"mappings":"0uBAKA,MAAMA,EAAO,CACT,OAAQ,SAAS,cAAc,4CAA4C,EAC3E,QAAS,SAAS,cAAc,qBAAqB,CACzD,EAEEA,EAAK,OAAO,iBAAiB,SAAUC,GAAK,CAC1CA,EAAE,eAAc,EAEhB,MAAMC,EAAQD,EAAE,OAAO,SAAS,MAAM,MAEtCE,EAAYD,CAAK,EAAE,KAAKE,GAAQ,CAC9BC,EAAYD,CAAI,CACtB,CAAK,EAEDH,EAAE,OAAO,OACb,CAAG,EAED,SAASE,EAAYG,EAAW,CAC9B,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,6CAA6CH,CAAS,2DAC/DI,EAAMH,EAAWC,EAAYC,EAEnC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAE5C,CACE,SAASC,EAAcV,EAAO,CAC5B,MAAO;AAAA;AAAA;AAAA,eAGIA,EAAM,KAAK,YAAY;AAAA,eACvBA,EAAM,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,+BAKCA,EAAM,KAAK,KAAK;AAAA,+BAChBA,EAAM,KAAK,KAAK;AAAA,+BAChBA,EAAM,KAAK,QAAQ;AAAA,gCAClBA,EAAM,KAAK,SAAS;AAAA;AAAA,SAGjD,CAED,SAASG,EAAYH,EAAO,CAC1B,MAAMW,EAASD,EAAcV,CAAK,EAClCF,EAAK,QAAQ,mBAAmB,aAAca,CAAM,CACrD"}