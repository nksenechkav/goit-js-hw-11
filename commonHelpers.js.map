{"version":3,"file":"commonHelpers.js","sources":["../src/js/gallery.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// const refs = {\n//     formEl: document.querySelector('.js-search-form[data-id=\"js-search-image\"]'),\n//     imageEl: document.querySelector('.js-image-container'),\n//   };\n  \n//   refs.formEl.addEventListener('submit', e => {\n//     e.preventDefault();\n  \n//     const image = e.target.elements.query.value;\n  \n//     searchImage(image).then(data => {\n//       renderImage(data);\n//     });\n  \n//     e.target.reset();\n//   });\n  \n//   function searchImage(userValue) {\n//     const BASE_URL = 'https://pixabay.com';\n//     const END_POINT = '/api/';\n//     const PARAMS = `?key=${userValue}`;\n//     const url = BASE_URL + END_POINT + PARAMS;\n  \n//     const options = {\n//       headers: {\n//         'X-RapidAPI-Key': '42271393-ceafa19bde7d0a63fb15d5d6f',\n//         'X-RapidAPI-Host': 'superhero-search.p.rapidapi.com',\n//       },\n//     };\n  \n//     return fetch(url, options).then(res => res.json());\n//   }\n  \n//   function imageTemplate(image) {\n//     return `<div class=\"image-card card\">\n//     <div class=\"image-container\">\n//       <img\n//         src=\"${image.images.lg}\"\n//         alt=\"#\"\n//         class=\"hero-image\"\n//       />\n//     </div>\n//     <div class=\"image-body\">\n//       <h4 class=\"image-name\">${image.name}</h4>\n//       <p class=\"image-bio\">\n//         ${image.biography.fullName} - ${image.biography.placeOfBirth}, ${image.work.base}\n//       </p>\n//     </div>\n//   </div>`;\n//   }\n  \n//   function renderImage(image) {\n//     const markup = imageTemplate(image);\n//     refs.imageEl.insertAdjacentHTML('afterbegin', markup);\n//   }\nconst form = document.querySelector('.form-control');\nconst loader = document.querySelector('.loader');\nconst gallery = document.querySelector('.gallery');\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const keyword = document.querySelector('#keyword').value;\n  const query = `https://pixabay.com/api/?key={42271393-ceafa19bde7d0a63fb15d5d6f}&q=${keyword}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  loader.style.display = 'block';\n  gallery.innerHTML = '';\n\n  fetch(query)\n    .then(response => response.json())\n    .then((data) => {\n      loader.style.display = 'none';\n      if (data.hits.length === 0) {\n        gallery.innerHTML = 'No results found.';\n        return;\n      }\n\n      data.hits.forEach((hit) => {\n        const image = document.createElement('img');\n        image.src = hit.webformatURL;\n        image.alt = hit.tags;\n        image.addEventListener('click', () => {\n          const lightbox = new SimpleLightbox();\n          lightbox.open({\n            items: [\n              {\n                src: hit.largeImageURL,\n                caption: `Likes: ${hit.likes}, Views: ${hit.views}, Comments: ${hit.comments}, Downloads: ${hit.downloads}`\n              }\n            ]\n          });\n        });\n        gallery.appendChild(image);\n      });\n\n      const lightbox = new SimpleLightbox();\n      lightbox.refresh();\n    })\n    .catch((error) => {\n      loader.style.display = 'none';\n      gallery.innerHTML = 'Error fetching images.';\n      console.error(error);\n    });\n});"],"names":["form","loader","gallery","e","query","response","data","hit","image","SimpleLightbox","error"],"mappings":"svBA4DA,MAAMA,EAAO,SAAS,cAAc,eAAe,EAC7CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,UAAU,EAEjDF,EAAK,iBAAiB,SAAWG,GAAM,CACrCA,EAAE,eAAc,EAGhB,MAAMC,EAAQ,uEADE,SAAS,cAAc,UAAU,EAAE,KACyC,2DAE5FH,EAAO,MAAM,QAAU,QACvBC,EAAQ,UAAY,GAEpB,MAAME,CAAK,EACR,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAMC,GAAS,CAEd,GADAL,EAAO,MAAM,QAAU,OACnBK,EAAK,KAAK,SAAW,EAAG,CAC1BJ,EAAQ,UAAY,oBACpB,MACD,CAEDI,EAAK,KAAK,QAASC,GAAQ,CACzB,MAAMC,EAAQ,SAAS,cAAc,KAAK,EAC1CA,EAAM,IAAMD,EAAI,aAChBC,EAAM,IAAMD,EAAI,KAChBC,EAAM,iBAAiB,QAAS,IAAM,CACnB,IAAIC,IACZ,KAAK,CACZ,MAAO,CACL,CACE,IAAKF,EAAI,cACT,QAAS,UAAUA,EAAI,KAAK,YAAYA,EAAI,KAAK,eAAeA,EAAI,QAAQ,gBAAgBA,EAAI,SAAS,EAC1G,CACF,CACb,CAAW,CACX,CAAS,EACDL,EAAQ,YAAYM,CAAK,CACjC,CAAO,EAEgB,IAAIC,IACZ,QAAO,CACtB,CAAK,EACA,MAAOC,GAAU,CAChBT,EAAO,MAAM,QAAU,OACvBC,EAAQ,UAAY,yBACpB,QAAQ,MAAMQ,CAAK,CACzB,CAAK,CACL,CAAC"}